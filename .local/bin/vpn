#!/bin/sh
#
# Connecting and disconnecting vpn

TUN_LOCATION="/lib/modules/$(uname -r)/kernel/drivers/net/tun.ko.zst"
CONFIG="$XDG_DATA_HOME/vpn/Alex.ovpn"

if [ $1 = "on" ]; then
    sudo insmod $TUN_LOCATION
    sudo openvpn --config $CONFIG --daemon
elif [ $1 = "off" ]; then
    sudo killall openvpn
    sudo rmmod tun
else
    echo "possible args: on / off / status"
fi
